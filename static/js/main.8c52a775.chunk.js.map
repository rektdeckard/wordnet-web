{"version":3,"sources":["aws-exports.js","components/Crumb.js","actions/settingsActions.js","actions/types.js","graphql/mutations.js","actions/graphActions.js","actions/historyActions.js","graphql/queries.js","components/explore/History.js","components/Missing.js","components/explore/Explore.js","components/play/Play.js","components/play/PlayConnected.js","components/learn/Learn.js","components/settings/Account.js","components/settings/Settings.js","components/Home.js","components/App.js","reducers/settingsReducer.js","reducers/graphReducer.js","reducers/historyReducer.js","reducers/index.js","index.js"],"names":["awsmobile","withRouter","location","children","match","crumbs","useMemo","segments","pathname","split","slice","map","s","i","path","join","segment","replace","c","toUpperCase","Item","key","length","to","style","margin","updateSettings","settings","dispatch","type","payload","setDistanceMin","distanceMin","setDistanceMax","distanceMax","createNode","createEdge","addElements","nodes","links","getState","a","graph","session","currentNode","Error","Promise","all","id","radius","depth","color","API","graphql","graphqlOperation","mutations","input","value","nodeNetworkId","resultNodes","data","distance","edgeSourceId","edgeTargetId","edgeNetworkId","currentNodes","randomNode","Math","floor","random","res","removeElement","token","fetchHistory","limit","filter","createdAt","ge","Date","getFullYear","sessionData","entries","listWordNets","items","entry","year","month","getMonth","day","getDate","reduce","acc","curr","sessionsByDay","Object","keys","nodeData","sessions","words","listNodes","Content","Layout","connect","state","history","useEffect","height","from","setMonth","emptyColor","colors","top","right","bottom","left","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","anchor","direction","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","description","shape","Title","Typography","Paragraph","Text","now","currentYear","currentMonth","currentDate","currrentWeekday","getDay","previousWeek","getTime","previousYear","previousMonth","previousDate","previousWeekday","sessionHistory","currentWeekSessions","date","Number","previousWeekSessions","weekOverWeek","handleDayClicked","event","preventDefault","console","log","push","statisticCards","title","precision","formatter","width","percent","format","suffix","valueStyle","prefix","exact","component","level","grid","gutter","xs","sm","md","dataSource","renderItem","item","hoverable","onClick","strong","History","render","nivo","repulsivity","iterations","borderWidth","linkThickness","animate","motionStiffness","motionDamping","useState","setEntry","setCurrentNode","padding","background","window","innerHeight","innerWidth","nodeColor","n","nodeBorderWidth","nodeBorderColor","modifiers","l","ceil","source","isInteractive","placeholder","allowClear","onChange","e","target","onPressEnter","tokens","Set","existingTokens","newNodes","t","includes","existingLinks","newLinks","initializeSession","createWordNet","Learn","icon","itemLayout","Meta","avatar","backgroundColor","validateFile","file","message","error","size","Account","user","Auth","attributes","image","setImage","loading","setLoading","fetchImage","Storage","list","images","get","imageUrl","handleUpload","onProgress","onError","onSuccess","put","name","contentType","response","onChangeAttribute","attribute","updateUserAttributes","success","warn","uploadButton","className","bordered","span","minWidth","listType","showUploadList","customRequest","beforeUpload","src","editable","phone_number","email","address","SubMenu","Menu","Sider","setRepulsivity","setIterations","setBorderWidth","setLinkThickness","setAnimate","setMotionStiffness","setMotionDamping","props","collapsedWidth","breakpoint","mode","selectable","defaultOpenKeys","min","max","checked","doubleClick","linkColor","marginTop","display","flexDirection","alignItems","justifyContent","theme","fontSize","marginLeft","marginRight","Header","Footer","Analytics","record","position","zIndex","selectedKeys","lineHeight","pop","float","signOut","minHeight","Home","Crumb","PlayConnected","Explore","Settings","textAlign","INITIAL_STATE","rootReducer","combineReducers","action","filteredNodes","filteredLinks","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Amplify","configure","awsconfig","AmplifyTheme","AppWithAuthentication","withAuthenticator","App","signUpConfig","header","signUpFields","label","required","displayOrder","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8c52a775.chunk.js","sourcesContent":["// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_content_delivery_bucket\": \"wordnet-web-dev-20200124174830-hostingbucket-deva\",\n    \"aws_content_delivery_bucket_region\": \"us-east-1\",\n    \"aws_content_delivery_url\": \"http://wordnet-web-dev-20200124174830-hostingbucket-deva.s3-website-us-east-1.amazonaws.com\",\n    \"aws_cognito_identity_pool_id\": \"us-east-1:fc8e4229-6e14-43e2-b9bf-4f894c91a1c2\",\n    \"aws_cognito_region\": \"us-east-1\",\n    \"aws_user_pools_id\": \"us-east-1_RfZuOJMxs\",\n    \"aws_user_pools_web_client_id\": \"3ec7hnj9ql9bsse3ci18rklmu3\",\n    \"oauth\": {},\n    \"aws_mobile_analytics_app_id\": \"41947d638dea42d28f1d528b05933204\",\n    \"aws_mobile_analytics_app_region\": \"us-east-1\",\n    \"aws_user_files_s3_bucket\": \"wordnet-web-dev6ba93794b4334c338ef75ccce209c62cdev-deva\",\n    \"aws_user_files_s3_bucket_region\": \"us-east-1\",\n    \"aws_appsync_graphqlEndpoint\": \"https://zhybkaecyvcyvdqq6pjdf66x44.appsync-api.us-east-1.amazonaws.com/graphql\",\n    \"aws_appsync_region\": \"us-east-1\",\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\"\n};\n\n\nexport default awsmobile;\n","import React, { useMemo } from \"react\";\r\nimport { Breadcrumb } from \"antd\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nconst Crumb = ({ location, match, children }) => {\r\n  const crumbs = useMemo(() => {\r\n    const segments = location.pathname.split(\"/\").slice(1);\r\n    return segments.map((s, i) => {\r\n      const path = \"/\" + segments.slice(0, i + 1).join(\"/\");\r\n      const segment = s.replace(/^(.)/, c => c.toUpperCase()).replace(/_/g, \" \");\r\n      return (\r\n        <Breadcrumb.Item key={i}>\r\n          {i === segments.length - 1 ? (\r\n            segment\r\n          ) : (\r\n            <Link to={path}>{segment}</Link>\r\n          )}\r\n        </Breadcrumb.Item>\r\n      );\r\n    });\r\n  }, [location]);\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb style={{ margin: \"16px 0\" }}>{crumbs}</Breadcrumb>\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Crumb);\r\n","import { UPDATE_SETTING } from \"../actions/types\";\r\n\r\nconst updateSettings = settings => dispatch => {\r\n  dispatch({\r\n    type: UPDATE_SETTING,\r\n    payload: settings\r\n  });\r\n};\r\n\r\n// TODO: Implement extra validation on each property, even though the UI layer should it too?\r\n\r\nexport const setRepulsivity = repulsivity => dispatch => {\r\n  dispatch(updateSettings({ repulsivity }));\r\n};\r\n\r\nexport const setDistanceMin = distanceMin => dispatch => {\r\n  dispatch(updateSettings({ distanceMin }));\r\n};\r\n\r\nexport const setDistanceMax = distanceMax => dispatch => {\r\n  dispatch(updateSettings({ distanceMax }));\r\n};\r\n\r\nexport const setIterations = iterations => dispatch => {\r\n  dispatch(updateSettings({ iterations }));\r\n};\r\n\r\nexport const setBorderWidth = borderWidth => dispatch => {\r\n  dispatch(updateSettings({ borderWidth }));\r\n};\r\n\r\nexport const setLinkThickness = linkThickness => dispatch => {\r\n  if (!linkThickness) linkThickness = 1;\r\n  if (linkThickness > 20) linkThickness = 20;\r\n  dispatch(updateSettings({ linkThickness }));\r\n};\r\n\r\nexport const setAnimate = animate => dispatch => {\r\n  dispatch(updateSettings({ animate }));\r\n};\r\n\r\nexport const setMotionStiffness = motionStiffness => dispatch => {\r\n  dispatch(updateSettings({ motionStiffness }));\r\n};\r\n\r\nexport const setMotionDamping = motionDamping => dispatch => {\r\n  dispatch(updateSettings({ motionDamping }));\r\n};\r\n","export const UPDATE_SETTING = \"update_setting\";\r\n\r\nexport const INITIALIZE_GRAPH_SESSION = \"create_graph_session\";\r\nexport const ADD_GRAPH_ELEMENTS = \"add_graph_elements\";\r\nexport const REMOVE_GRAPH_ELEMENT = \"remove_graph_element\";\r\nexport const SUBMIT_GRAPH_SESSION = \"submit_graph_session\";\r\n\r\nexport const FETCH_HISTORY = \"fetch_history\";","/* eslint-disable */\r\n// this is an auto generated file. This will be overwritten\r\n\r\nexport const createWordNet = /* GraphQL */ `\r\n  mutation CreateWordNet(\r\n    $input: CreateWordNetInput!\r\n    $condition: ModelWordNetConditionInput\r\n  ) {\r\n    createWordNet(input: $input, condition: $condition) {\r\n      id\r\n      nodes {\r\n        items {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      edges {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n      modifiedAt\r\n    }\r\n  }\r\n`;\r\nexport const updateWordNet = /* GraphQL */ `\r\n  mutation UpdateWordNet(\r\n    $input: UpdateWordNetInput!\r\n    $condition: ModelWordNetConditionInput\r\n  ) {\r\n    updateWordNet(input: $input, condition: $condition) {\r\n      id\r\n      nodes {\r\n        items {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      edges {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n      modifiedAt\r\n    }\r\n  }\r\n`;\r\nexport const deleteWordNet = /* GraphQL */ `\r\n  mutation DeleteWordNet(\r\n    $input: DeleteWordNetInput!\r\n    $condition: ModelWordNetConditionInput\r\n  ) {\r\n    deleteWordNet(input: $input, condition: $condition) {\r\n      id\r\n      nodes {\r\n        items {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      edges {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n      modifiedAt\r\n    }\r\n  }\r\n`;\r\nexport const createNode = /* GraphQL */ `\r\n  mutation CreateNode(\r\n    $input: CreateNodeInput!\r\n    $condition: ModelNodeConditionInput\r\n  ) {\r\n    createNode(input: $input, condition: $condition) {\r\n      id\r\n      value\r\n      depth\r\n      radius\r\n      color\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      sources {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      targets {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const updateNode = /* GraphQL */ `\r\n  mutation UpdateNode(\r\n    $input: UpdateNodeInput!\r\n    $condition: ModelNodeConditionInput\r\n  ) {\r\n    updateNode(input: $input, condition: $condition) {\r\n      id\r\n      value\r\n      depth\r\n      radius\r\n      color\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      sources {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      targets {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const deleteNode = /* GraphQL */ `\r\n  mutation DeleteNode(\r\n    $input: DeleteNodeInput!\r\n    $condition: ModelNodeConditionInput\r\n  ) {\r\n    deleteNode(input: $input, condition: $condition) {\r\n      id\r\n      value\r\n      depth\r\n      radius\r\n      color\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      sources {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      targets {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const createEdge = /* GraphQL */ `\r\n  mutation CreateEdge(\r\n    $input: CreateEdgeInput!\r\n    $condition: ModelEdgeConditionInput\r\n  ) {\r\n    createEdge(input: $input, condition: $condition) {\r\n      id\r\n      source {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      target {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      distance\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const updateEdge = /* GraphQL */ `\r\n  mutation UpdateEdge(\r\n    $input: UpdateEdgeInput!\r\n    $condition: ModelEdgeConditionInput\r\n  ) {\r\n    updateEdge(input: $input, condition: $condition) {\r\n      id\r\n      source {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      target {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      distance\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const deleteEdge = /* GraphQL */ `\r\n  mutation DeleteEdge(\r\n    $input: DeleteEdgeInput!\r\n    $condition: ModelEdgeConditionInput\r\n  ) {\r\n    deleteEdge(input: $input, condition: $condition) {\r\n      id\r\n      source {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      target {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      distance\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n","import { API, graphqlOperation } from \"aws-amplify\";\r\nimport * as queries from \"../graphql/queries\";\r\nimport * as subscriptions from \"../graphql/subscriptions\";\r\nimport * as mutations from \"../graphql/mutations\";\r\nimport {\r\n  ADD_GRAPH_ELEMENTS,\r\n  REMOVE_GRAPH_ELEMENT,\r\n  INITIALIZE_GRAPH_SESSION,\r\n  SUBMIT_GRAPH_SESSION\r\n} from \"./types\";\r\n\r\nexport const addElements = (\r\n  nodes = [],\r\n  links = []\r\n) => async (dispatch, getState) => {\r\n  const { session, currentNode } = getState().graph;\r\n  if (!session || !currentNode) throw new Error(\"No current session ID!\");\r\n\r\n  // FIXME: Create new mutation to add multiple nodes simultaneously\r\n  const resultNodes = await Promise.all(\r\n    nodes.map(({ id, radius, depth, color }) =>\r\n      API.graphql(\r\n        graphqlOperation(mutations.createNode, {\r\n          input: { value: id, radius, depth, color, nodeNetworkId: session }\r\n        })\r\n      )\r\n    )\r\n  );\r\n\r\n  // FIXME: Create new mutation to add multiple edges simultaneously\r\n  const resultEdges = await Promise.all(\r\n    resultNodes.map(({ data: { createNode: { id } } }) =>\r\n      API.graphql(\r\n        graphqlOperation(mutations.createEdge, {\r\n          input: {\r\n            distance: 30,\r\n            edgeSourceId: currentNode.id,\r\n            edgeTargetId: id,\r\n            edgeNetworkId: session\r\n          }\r\n        })\r\n      )\r\n    )\r\n  );\r\n\r\n  const currentNodes = getState().graph.nodes;\r\n  const randomNode = currentNodes[Math.floor(Math.random() * currentNodes.length)] ?? currentNode;\r\n\r\n  dispatch({\r\n    type: ADD_GRAPH_ELEMENTS,\r\n    payload: { nodes: resultNodes.map(res => res.data.createNode), links, session, currentNode: randomNode }\r\n  });\r\n};\r\n\r\nexport const removeElement = token => {\r\n  return {\r\n    type: REMOVE_GRAPH_ELEMENT,\r\n    payload: token\r\n  };\r\n};\r\n\r\nexport const initializeSession = () => async dispatch => {\r\n  const {\r\n    data: { createWordNet }\r\n  } = await API.graphql(\r\n    graphqlOperation(mutations.createWordNet, { input: {} })\r\n  );\r\n  const nodeNetworkId = createWordNet.id;\r\n\r\n  const input = {\r\n    value: \"smart\",\r\n    radius: 12,\r\n    depth: 1,\r\n    color: \"rgb(244, 117, 96)\",\r\n    nodeNetworkId\r\n  };\r\n\r\n  const {\r\n    data: { createNode }\r\n  } = await API.graphql(graphqlOperation(mutations.createNode, { input }));\r\n\r\n  dispatch({\r\n    type: INITIALIZE_GRAPH_SESSION,\r\n    payload: {\r\n      session: nodeNetworkId,\r\n      currentNode: createNode\r\n    }\r\n  });\r\n};\r\n\r\nexport const submitSession = () => {\r\n  return { type: SUBMIT_GRAPH_SESSION };\r\n};\r\n","import { API, graphqlOperation } from \"aws-amplify\";\r\n\r\nimport * as queries from \"../graphql/queries\";\r\nimport { FETCH_HISTORY } from \"./types\";\r\n\r\nexport const fetchHistory = () => async dispatch => {\r\n  const sessionData = await API.graphql(\r\n    graphqlOperation(queries.listHistory, {\r\n      limit: 1000,\r\n      filter: {\r\n        createdAt: { ge: `${new Date().getFullYear()}-01-01T00:00:00.000Z` }\r\n      }\r\n    })\r\n  );\r\n\r\n  const entries = sessionData.data.listWordNets.items\r\n    .map(entry => {\r\n      const createdAt = new Date(entry.createdAt);\r\n      const year = createdAt.getFullYear();\r\n      const month = (\"0\" + (createdAt.getMonth() + 1)).slice(-2);\r\n      const day = (\"0\" + createdAt.getDate()).slice(-2);\r\n\r\n      return {\r\n        id: entry.id,\r\n        // day: entry.createdAt.split   (\"T\")[0]\r\n        day: `${year}-${month}-${day}`\r\n      };\r\n    })\r\n    .reduce((acc, curr) => {\r\n      if (acc[curr.day]) {\r\n        acc[curr.day] += 1;\r\n      } else {\r\n        acc[curr.day] = 1;\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n  const sessionsByDay = Object.keys(entries).map(day => ({\r\n    day,\r\n    value: entries[day]\r\n  }));\r\n\r\n  const nodeData = await API.graphql(\r\n    graphqlOperation(\r\n      `{\r\n        listNodes(limit: 10000) {\r\n          items {\r\n            id\r\n          }\r\n        }\r\n      }`,\r\n      {}\r\n    )\r\n  );\r\n\r\n  dispatch({\r\n    type: FETCH_HISTORY,\r\n    payload: {\r\n      sessions: sessionData.data.listWordNets.items,\r\n      sessionsByDay,\r\n      words: nodeData.data.listNodes.items.length\r\n    }\r\n  });\r\n};\r\n","/* eslint-disable */\r\n// this is an auto generated file. This will be overwritten\r\n\r\nexport const nodesForWordNet = /* GraphQL */ `\r\n  query NodesForWordNet($id: ID!, $limit: Int, $nextToken: String) {\r\n    nodesForWordNet(id: $id, limit: $limit, nextToken: $nextToken) {\r\n      items {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      nextToken\r\n    }\r\n  }\r\n`;\r\nexport const edgesForWordNet = /* GraphQL */ `\r\n  query EdgesForWordNet($id: ID!, $limit: Int, $nextToken: String) {\r\n    edgesForWordNet(id: $id, limit: $limit, nextToken: $nextToken) {\r\n      items {\r\n        id\r\n        source {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        target {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        distance\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        createdAt\r\n      }\r\n      nextToken\r\n    }\r\n  }\r\n`;\r\nexport const getWordNet = /* GraphQL */ `\r\n  query GetWordNet($id: ID!) {\r\n    getWordNet(id: $id) {\r\n      id\r\n      nodes {\r\n        items {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      edges {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n      modifiedAt\r\n    }\r\n  }\r\n`;\r\nexport const listWordNets = /* GraphQL */ `\r\n  query ListWordNets(\r\n    $filter: ModelWordNetFilterInput\r\n    $limit: Int\r\n    $nextToken: String\r\n  ) {\r\n    listWordNets(filter: $filter, limit: $limit, nextToken: $nextToken) {\r\n      items {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      nextToken\r\n    }\r\n  }\r\n`;\r\n\r\nexport const listHistory = /* GraphQL */ `\r\nquery ListWordNets(\r\n  $filter: ModelWordNetFilterInput\r\n  $limit: Int\r\n  $nextToken: String\r\n) {\r\n  listWordNets(filter: $filter, limit: $limit, nextToken: $nextToken) {\r\n    items {\r\n      id\r\n      createdAt\r\n      modifiedAt\r\n    }\r\n    nextToken\r\n  }\r\n}\r\n`;\r\n\r\nexport const getNode = /* GraphQL */ `\r\n  query GetNode($id: ID!) {\r\n    getNode(id: $id) {\r\n      id\r\n      value\r\n      depth\r\n      radius\r\n      color\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      sources {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      targets {\r\n        items {\r\n          id\r\n          distance\r\n          createdAt\r\n        }\r\n        nextToken\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const listNodes = /* GraphQL */ `\r\n  query ListNodes(\r\n    $filter: ModelNodeFilterInput\r\n    $limit: Int\r\n    $nextToken: String\r\n  ) {\r\n    listNodes(filter: $filter, limit: $limit, nextToken: $nextToken) {\r\n      items {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      nextToken\r\n    }\r\n  }\r\n`;\r\nexport const getEdge = /* GraphQL */ `\r\n  query GetEdge($id: ID!) {\r\n    getEdge(id: $id) {\r\n      id\r\n      source {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      target {\r\n        id\r\n        value\r\n        depth\r\n        radius\r\n        color\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        sources {\r\n          nextToken\r\n        }\r\n        targets {\r\n          nextToken\r\n        }\r\n        createdAt\r\n      }\r\n      distance\r\n      network {\r\n        id\r\n        nodes {\r\n          nextToken\r\n        }\r\n        edges {\r\n          nextToken\r\n        }\r\n        createdAt\r\n        modifiedAt\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nexport const listEdges = /* GraphQL */ `\r\n  query ListEdges(\r\n    $filter: ModelEdgeFilterInput\r\n    $limit: Int\r\n    $nextToken: String\r\n  ) {\r\n    listEdges(filter: $filter, limit: $limit, nextToken: $nextToken) {\r\n      items {\r\n        id\r\n        source {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        target {\r\n          id\r\n          value\r\n          depth\r\n          radius\r\n          color\r\n          createdAt\r\n        }\r\n        distance\r\n        network {\r\n          id\r\n          createdAt\r\n          modifiedAt\r\n        }\r\n        createdAt\r\n      }\r\n      nextToken\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Layout } from \"antd\";\r\nimport { ResponsiveCalendar } from \"@nivo/calendar\";\r\n\r\nimport { fetchHistory } from \"../../actions\";\r\n\r\nconst { Content } = Layout;\r\n\r\nconst History = ({ history, fetchHistory }) => {\r\n  useEffect(() => {\r\n    if (!history.sessionsByDay.length) fetchHistory();\r\n  }, [history, fetchHistory]);\r\n\r\n  // const [data] = useState([\r\n  //   { day: \"2020-01-03\", value: 2 },\r\n  //   { day: \"2020-01-06\", value: 1 },\r\n  //   { day: \"2020-01-07\", value: 3 },\r\n  //   { day: \"2020-01-08\", value: 3 },\r\n  //   { day: \"2020-01-09\", value: 1 },\r\n  //   { day: \"2020-01-10\", value: 4 },\r\n  //   { day: \"2020-01-13\", value: 1 },\r\n  //   { day: \"2020-01-14\", value: 2 },\r\n  //   { day: \"2020-01-15\", value: 1 },\r\n  //   { day: \"2020-01-17\", value: 2 },\r\n  //   { day: \"2020-01-20\", value: 2 },\r\n  //   { day: \"2020-01-21\", value: 4 },\r\n  //   { day: \"2020-01-22\", value: 1 },\r\n  //   { day: \"2020-01-23\", value: 2 },\r\n  //   { day: \"2020-01-24\", value: 1 },\r\n  //   { day: \"2020-01-27\", value: 1 },\r\n  //   { day: \"2020-01-28\", value: 2 },\r\n  //   { day: \"2020-01-29\", value: 2 },\r\n  //   { day: \"2020-01-30\", value: 3 },\r\n  //   { day: \"2020-02-01\", value: 1 }\r\n  // ]);\r\n\r\n  return (\r\n    <Content style={{ height: 700 }}>\r\n      <ResponsiveCalendar\r\n        data={history.sessionsByDay ?? []}\r\n        // from={new Date(new Date().setFullYear(new Date().getFullYear() - 1))}\r\n        // to={new Date()}\r\n        from={new Date()}\r\n        to={new Date(new Date().setMonth(new Date().getMonth() + 2))}\r\n        emptyColor=\"#eeeeee\"\r\n        colors={[\"#61cdbb\", \"#97e3d5\", \"#e8c1a0\", \"#f47560\"]}\r\n        margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\r\n        yearSpacing={40}\r\n        monthBorderColor=\"#ffffff\"\r\n        dayBorderWidth={2}\r\n        dayBorderColor=\"#ffffff\"\r\n        legends={[\r\n          {\r\n            anchor: \"bottom-right\",\r\n            direction: \"row\",\r\n            translateY: 36,\r\n            itemCount: 4,\r\n            itemWidth: 42,\r\n            itemHeight: 36,\r\n            itemsSpacing: 14,\r\n            itemDirection: \"right-to-left\"\r\n          }\r\n        ]}\r\n      />\r\n    </Content>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { history: state.history };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchHistory })(History);\r\n","import React from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Empty, Button } from \"antd\";\r\n\r\nconst Missing = ({ match, style  }) => {\r\n  return (\r\n    <Empty\r\n      style={style}\r\n      description={<span>Whoops. That doesn't exist.</span>}\r\n    >\r\n      <Button type=\"primary\" shape=\"round\">\r\n        <Link to={match.path}>Go back</Link>\r\n      </Button>\r\n    </Empty>\r\n  );\r\n};\r\n\r\nexport default withRouter(Missing);\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Layout,\r\n  Typography,\r\n  Divider,\r\n  Progress,\r\n  Statistic,\r\n  Card,\r\n  List,\r\n  Icon\r\n} from \"antd\";\r\nimport { ResponsiveCalendar } from \"@nivo/calendar\";\r\n\r\nimport { fetchHistory } from \"../../actions\";\r\nimport History from \"./History\";\r\nimport Missing from \"../Missing\";\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nconst ONE_WEEK = 1000*60*60*24*7;\r\n\r\nconst now = new Date(Date.now() - ONE_WEEK); // 7 days ago\r\nconst currentYear = now.getFullYear();\r\nconst currentMonth = now.getMonth() + 1;\r\nconst currentDate = now.getDate();\r\nconst currrentWeekday = now.getDay(); // 0 = Sunday \r\n\r\nconst previousWeek = new Date(now.getTime() - ONE_WEEK); // 14 days ago\r\nconst previousYear = previousWeek.getFullYear();\r\nconst previousMonth = previousWeek.getMonth() + 1;\r\nconst previousDate = previousWeek.getDate();\r\nconst previousWeekday = previousWeek.getDay(); // 0 = Sunday\r\n\r\nconst Explore = ({ history, sessionHistory, fetchHistory }) => {\r\n  const currentWeekSessions = useMemo(() => sessionHistory?.sessions?.filter(s => {\r\n    const [year, month, date] = s.createdAt.split(\"T\")[0].split(\"-\");\r\n    return (Number(year) === currentYear && Number(month) === currentMonth && Number(date) >= currentDate - currrentWeekday)\r\n  }), [sessionHistory]);\r\n\r\n  const previousWeekSessions = useMemo(() => sessionHistory?.sessions?.filter(s => {\r\n    const [year, month, date] = s.createdAt.split(\"T\")[0].split(\"-\");\r\n    return (Number(year) === previousYear && Number(month) === previousMonth && Number(date) >= previousDate - previousWeekday && Number(date) < currentDate - currrentWeekday)\r\n  }), [sessionHistory]);\r\n\r\n  const weekOverWeek = (currentWeekSessions.length / previousWeekSessions.length * 100);\r\n\r\n  useEffect(() => {\r\n    if (!sessionHistory.sessionsByDay.length) fetchHistory();\r\n  }, [sessionHistory, fetchHistory]);\r\n\r\n  const handleDayClicked = (day, event) => {\r\n    event.preventDefault();\r\n    console.log(day, event);\r\n    // TODO: Redirect to log view\r\n    history.push(`/explore/history/${day.day}`)\r\n  }\r\n\r\n  const statisticCards = [\r\n    <Statistic\r\n      title=\"Goal progress\"\r\n      value={68}\r\n      precision={0}\r\n      formatter={value => (\r\n        <Progress\r\n          style={{ margin: 16 }}\r\n          type=\"circle\"\r\n          width={100}\r\n          percent={value}\r\n          // successPercent={20}\r\n          format={percent => `${percent}%`}\r\n        />\r\n      )}\r\n      suffix=\"toward checking in every day this month!\"\r\n    />,\r\n    <Statistic\r\n      title=\"Activity this week\"\r\n      value={weekOverWeek}\r\n      precision={1}\r\n      valueStyle={{ color: \"#51bdab\" }}\r\n      // valueStyle={{ color: \"#f47560\" }}\r\n      prefix={<Icon type=\"arrow-up\" />}\r\n      // prefix={<Icon type=\"arrow-down\" />}\r\n      suffix=\"%\"\r\n    />,\r\n    <Statistic\r\n      title=\"Words logged\"\r\n      value={sessionHistory.words ?? 0}\r\n      precision={0}\r\n      prefix={<Icon type=\"message\" />}\r\n    />\r\n  ];\r\n\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/explore\"\r\n          component={() => (\r\n            <Typography>\r\n              <Title level={2}>Your Stats</Title>\r\n              <Paragraph>\r\n                Challenge yourself by setting{\" \"}\r\n                <Link to=\"/explore/goals\">goals</Link> and staying on target.\r\n                Gain perspective on your personality and cognitive abilities by\r\n                checking your <Link to=\"/explore/insights\">insights</Link>.\r\n              </Paragraph>\r\n              <List\r\n                grid={{\r\n                  gutter: 16,\r\n                  xs: 1,\r\n                  sm: 2,\r\n                  md: 3\r\n                }}\r\n                dataSource={statisticCards}\r\n                renderItem={item => (\r\n                  <List.Item>\r\n                    <Card hoverable>{item}</Card>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n              <Divider />\r\n              <Title level={2}>Recent Activity</Title>\r\n              <Paragraph>\r\n                Click on a calendar entry to view your activity for that day, or\r\n                see your <Link to=\"/explore/history\">complete history</Link>.\r\n              </Paragraph>\r\n              <Card hoverable>\r\n                <Link to=\"/explore/history\">\r\n                  <div style={{ height: 200 }}>\r\n                    <ResponsiveCalendar\r\n                      data={sessionHistory.sessionsByDay}\r\n                      from={new Date()}\r\n                      to={\r\n                        new Date(new Date().setMonth(new Date().getMonth() + 2))\r\n                      }\r\n                      emptyColor=\"#eeeeee\"\r\n                      colors={[\r\n                        \"#61cdbb\",\r\n                        \"#97e3d5\",\r\n                        \"#e8c1a0\",\r\n                        \"#ff9980\",\r\n                        \"#f47560\"\r\n                      ]}\r\n                      margin={{ top: 40, right: 40, bottom: 40, left: 40 }}\r\n                      yearSpacing={40}\r\n                      monthBorderColor=\"#ffffff\"\r\n                      dayBorderWidth={2}\r\n                      dayBorderColor=\"#ffffff\"\r\n                      legends={[\r\n                        {\r\n                          anchor: \"bottom-right\",\r\n                          direction: \"row\",\r\n                          translateY: 36,\r\n                          itemCount: 5,\r\n                          itemWidth: 42,\r\n                          itemHeight: 36,\r\n                          itemsSpacing: 14,\r\n                          itemDirection: \"right-to-left\"\r\n                        }\r\n                      ]}\r\n                      onClick={handleDayClicked}\r\n                    />\r\n                  </div>\r\n                </Link>\r\n              </Card>\r\n              <Divider />\r\n              <Title level={2}>Explore</Title>\r\n              <Paragraph>\r\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\r\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n                Dictum sit amet justo donec enim diam vulputate ut pharetra.\r\n                Neque ornare aenean euismod elementum nisi quis eleifend.\r\n                Malesuada pellentesque elit eget gravida cum sociis natoque\r\n                penatibus et. Quisque id diam vel quam elementum pulvinar etiam\r\n                non quam. Ut lectus arcu bibendum at varius vel pharetra.\r\n                Adipiscing tristique risus nec feugiat in fermentum posuere urna\r\n                nec. Laoreet sit amet cursus sit. Est sit amet facilisis magna\r\n                etiam. Sollicitudin nibh sit amet commodo. Vitae semper quis\r\n                lectus nulla at volutpat diam. In nulla posuere{\" \"}\r\n                <Text strong>sollicitudin</Text> aliquam. Maecenas volutpat\r\n                blandit aliquam etiam erat.\r\n              </Paragraph>\r\n              <Paragraph>\r\n                Sit amet nisl purus in mollis nunc sed. Turpis massa sed\r\n                elementum tempus egestas sed sed risus pretium. Viverra nibh\r\n                cras pulvinar mattis nunc. Amet risus nullam eget felis eget\r\n                nunc lobortis. Dolor sed viverra ipsum nunc. In metus vulputate\r\n                eu <Text strong>scelerisque</Text> felis imperdiet proin.\r\n                Ridiculus mus mauris vitae ultricies leo integer malesuada nunc\r\n                vel. Ridiculus mus mauris vitae ultricies leo. Etiam non quam\r\n                lacus suspendisse faucibus interdum posuere lorem ipsum. Lacus\r\n                vel facilisis volutpat est. Facilisis leo vel fringilla est\r\n                ullamcorper eget nulla facilisi etiam. Cursus turpis massa\r\n                tincidunt dui ut ornare. Scelerisque fermentum dui faucibus in\r\n                ornare quam viverra orci.\r\n              </Paragraph>\r\n            </Typography>\r\n          )}\r\n        />\r\n        <Route exact path=\"/explore/history\" component={History} />\r\n        <Route render={() => <Missing />} />\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { sessionHistory: state.history };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchHistory })(Explore);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Layout, Input } from \"antd\";\r\nimport { ResponsiveNetwork } from \"@nivo/network\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\n\r\nimport { addElements, removeElement } from \"../../actions\";\r\n\r\nconst { Content } = Layout;\r\nconst nivo = [\"#e8c1a0\", \"#f47560\", \"#f1e15b\", \"#e8a838\", \"#61cdbb\", \"#97e3d5\"];\r\n\r\nconst Play = ({ graph, settings, addElements, removeElement }) => {\r\n  const {\r\n    repulsivity,\r\n    distanceMin,\r\n    distanceMax,\r\n    iterations,\r\n    borderWidth,\r\n    linkThickness,\r\n    animate,\r\n    motionStiffness,\r\n    motionDamping\r\n  } = settings;\r\n\r\n  const randomNode = () =>\r\n    graph.nodes[Math.floor(Math.random() * graph.nodes.length)] ?? {\r\n      id: \"smart\",\r\n      radius: 12,\r\n      depth: 1,\r\n      color: \"rgb(244, 117, 96)\"\r\n    };\r\n\r\n  const [entry, setEntry] = useState(\"\");\r\n  const [currentNode, setCurrentNode] = useState(randomNode());\r\n\r\n  const handleChange = e => {\r\n    const { value } = e.target;\r\n    setEntry(value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    // Extract unique tokens from entry, splitting on spaces\r\n    const tokens = [...new Set(e.target.value.split(\" \"))];\r\n\r\n    // Create new node for each token that does not already have one\r\n    const existingTokens = graph.nodes.map(n => n.id);\r\n    const newNodes = tokens\r\n      .filter(t => !existingTokens.includes(t))\r\n      .map(t => ({\r\n        id: t,\r\n        radius: 8,\r\n        depth: currentNode.depth + 1,\r\n        // color: \"rgb(97, 205, 187)\"\r\n        color: nivo[(currentNode.depth - 1) % nivo.length]\r\n        //   color: `hsl(${360 - (60 * currentNode.depth - 1)}, 40%, 60%)`\r\n      }));\r\n\r\n    // Create links from current node to each token's new or extant node\r\n    // TODO: Update distance for extant links to represent stronger association?\r\n    const existingLinks = graph.links\r\n      .filter(l => l.source === currentNode.id)\r\n      .map(l => l.target);\r\n    const newLinks = tokens\r\n      .filter(t => !existingLinks.includes(t))\r\n      .map(t => ({\r\n        source: currentNode.id,\r\n        target: t,\r\n        distance: 30\r\n      }));\r\n\r\n    addElements(newNodes, newLinks);\r\n    setEntry(\"\");\r\n    setCurrentNode(randomNode());\r\n  };\r\n\r\n  return (\r\n    <Layout style={{ padding: \"0px 0px\", background: \"#fff\" }}>\r\n      <Content>\r\n        <TransformWrapper>\r\n          <TransformComponent>\r\n            <div\r\n              style={{\r\n                height: window.innerHeight - 282,\r\n                width: window.innerWidth - 100\r\n              }}\r\n            >\r\n              <ResponsiveNetwork\r\n                // height={700}\r\n                nodes={graph.nodes}\r\n                links={graph.links}\r\n                repulsivity={repulsivity}\r\n                distanceMin={distanceMin}\r\n                distanceMax={distanceMax}\r\n                iterations={iterations}\r\n                nodeColor={n => n.color}\r\n                nodeBorderWidth={borderWidth}\r\n                nodeBorderColor={{\r\n                  from: \"color\",\r\n                  modifiers: [[\"darker\", 0.8]]\r\n                }}\r\n                linkThickness={\r\n                  linkThickness ?? (l => Math.ceil(4 / l.source.depth))\r\n                }\r\n                motionStiffness={motionStiffness}\r\n                motionDamping={motionDamping}\r\n                animate={animate}\r\n                isInteractive={true}\r\n              />\r\n            </div>\r\n          </TransformComponent>\r\n        </TransformWrapper>\r\n        <Input\r\n          placeholder={`Define ${currentNode.id}`}\r\n          value={entry}\r\n          allowClear\r\n          onChange={handleChange}\r\n          onPressEnter={handleSubmit}\r\n        />\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { settings: state.settings, graph: state.graph };\r\n};\r\n\r\nexport default connect(mapStateToProps, { addElements, removeElement })(Play);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Connect } from \"aws-amplify-react\";\r\nimport { Layout, Input } from \"antd\";\r\nimport { ResponsiveNetwork } from \"@nivo/network\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\n\r\nimport { addElements, removeElement, initializeSession } from \"../../actions\";\r\n\r\nconst { Content } = Layout;\r\nconst nivo = [\"#e8c1a0\", \"#f47560\", \"#f1e15b\", \"#e8a838\", \"#61cdbb\", \"#97e3d5\"];\r\n\r\nconst PlayConnected = ({\r\n  graph,\r\n  settings,\r\n  addElements,\r\n  removeElement,\r\n  initializeSession\r\n}) => {\r\n  const { session, currentNode } = graph;\r\n  const nodes = useMemo(\r\n    () =>\r\n      graph.nodes?.map(({ value, depth, radius, color }) => ({\r\n        id: value,\r\n        depth,\r\n        radius,\r\n        color\r\n      })),\r\n    [graph]\r\n  );\r\n  const [entry, setEntry] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!session) {\r\n      initializeSession();\r\n    }\r\n  }, [session, initializeSession]);\r\n\r\n  const handleChange = e => {\r\n    const { value } = e.target;\r\n    setEntry(value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (!entry) return;\r\n\r\n    // Extract unique tokens from entry, removing special characters and splitting on spaces/hyphens\r\n    const tokens = [\r\n      ...new Set(\r\n        entry\r\n          .replace(/[.,\\\\/#!$%^&*;:{}=_`~()]/g, \"\")\r\n          .replace(/\\s{2,}/g, \" \")\r\n          .split(/[\\s-]/)\r\n      )\r\n    ];\r\n\r\n    // Create new node for each token that does not already have one\r\n    const existingTokens = graph.nodes.map(n => n.value);\r\n    const newNodes = tokens\r\n      .filter(t => !existingTokens.includes(t))\r\n      .map(t => ({\r\n        id: t,\r\n        radius: 8,\r\n        depth: currentNode.depth + 1,\r\n        // color: \"rgb(97, 205, 187)\"\r\n        color: nivo[(currentNode.depth - 1) % nivo.length]\r\n        //   color: `hsl(${360 - (60 * currentNode.depth - 1)}, 40%, 60%)`\r\n      }));\r\n\r\n    // Create links from current node to each token's new or extant node\r\n    // TODO: Update distance for extant links to represent stronger association?\r\n    const existingLinks = graph.links\r\n      .filter(l => l.source === currentNode.value)\r\n      .map(l => l.target);\r\n    const newLinks = tokens\r\n      .filter(t => !existingLinks.includes(t))\r\n      .map(t => ({\r\n        source: currentNode.value,\r\n        target: t,\r\n        distance: 30\r\n      }));\r\n\r\n    addElements(newNodes, newLinks);\r\n    setEntry(\"\");\r\n  };\r\n\r\n  return (\r\n    <Layout style={{ padding: \"0px 0px\", background: \"#fff\" }}>\r\n      <Content>\r\n        <TransformWrapper>\r\n          <TransformComponent>\r\n            <div\r\n              style={{\r\n                height: window.innerHeight - 282,\r\n                width: window.innerWidth - 100\r\n              }}\r\n            >\r\n              {/* TODO: Make ResponsiveNetwork as a subscriber to the data! */}\r\n              {/* <Connect\r\n                query={graphqlOperation(queries.listWordNets)}\r\n                subscription={graphqlOperation(subscriptions.onCreateNode)}\r\n                onSubscriptionMsg={(prev, { onCreateNode }) => {\r\n                  console.log(onCreateNode);\r\n                  return prev;\r\n                }}\r\n              >\r\n                {({ data: { listWordNets }, loading, errors }) => {\r\n                  if (errors.length) {\r\n                    console.log(\"errors\", errors);\r\n                    return <h3>Error</h3>;\r\n                  }\r\n                  if (loading) {\r\n                    console.log(\"loading\", loading);\r\n                    return <h3>Loading</h3>;\r\n                  }\r\n                  console.log(listWordNets);\r\n                  return <h3>Loaded</h3>;\r\n                }}\r\n              </Connect> */}\r\n              <ResponsiveNetwork\r\n                // height={700}\r\n                nodes={nodes}\r\n                links={graph.links}\r\n                repulsivity={settings.repulsivity}\r\n                distanceMin={settings.distanceMin}\r\n                distanceMax={settings.distanceMax}\r\n                iterations={settings.iterations}\r\n                nodeColor={n => n.color}\r\n                nodeBorderWidth={settings.borderWidth}\r\n                nodeBorderColor={{\r\n                  from: \"color\",\r\n                  modifiers: [[\"darker\", 0.8]]\r\n                }}\r\n                linkThickness={\r\n                  settings.linkThickness ?? (l => Math.ceil(4 / l.source.depth))\r\n                }\r\n                motionStiffness={settings.motionStiffness}\r\n                motionDamping={settings.motionDamping}\r\n                animate={settings.animate}\r\n                isInteractive={true}\r\n              />\r\n            </div>\r\n          </TransformComponent>\r\n        </TransformWrapper>\r\n        <Input\r\n          placeholder={`Define ${currentNode?.value ?? \"smart\"}`}\r\n          value={entry}\r\n          allowClear\r\n          onChange={handleChange}\r\n          onPressEnter={handleSubmit}\r\n        />\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { settings: state.settings, graph: state.graph };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addElements,\r\n  removeElement,\r\n  initializeSession\r\n})(PlayConnected);\r\n","import React from \"react\";\r\nimport { Layout, List, Avatar } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst { Content } = Layout;\r\n\r\nconst Learn = () => {\r\n  const data = [\r\n    {\r\n      title: \"What is a WordNet?\",\r\n      icon: \"question-circle\",\r\n      description: (\r\n        <>\r\n          <p>\r\n            One of the main challenges in artificial intelligence or\r\n            computational linguistics is understanding the meaning of a word or\r\n            concept.\r\n          </p>\r\n\r\n          <p>\r\n            The connotation of the term understanding, or the meaning of the\r\n            word meaning, is merely a word mapping game due to unavoidable\r\n            circular definitions. These circular definitions arise when an\r\n            individual defines a concept, the concepts in its definition, and so\r\n            on, eventually one will exhaust all the words/concepts he and has to\r\n            reuse previously used words.\r\n          </p>\r\n\r\n          <p>\r\n            By connecting the associated words, a personalized network of\r\n            concepts (called a WordNet) is formed for the individual. Such a\r\n            WordNet serves as an external representation of an individual’s\r\n            knowledge and state of mind at the time of the network construction.\r\n          </p>\r\n\r\n          <p>\r\n            Path of Understanding in a WordNet that characterizes an\r\n            individual’s understanding of a complex concept such as a written\r\n            passage. Understanding and knowledge can be regarded as a calculable\r\n            statistical property of WordNet topology.\r\n          </p>\r\n        </>\r\n      )\r\n    },\r\n    {\r\n      title: \"Benefits of WordNet\",\r\n      icon: \"smile\",\r\n      description: \"\"\r\n    },\r\n    {\r\n      title: \"Potential Applications\",\r\n      icon: \"experiment\",\r\n      description: (\r\n        <ul>\r\n          <li>Evaluating one's knowledge over time</li>\r\n          <li>Evaluating one's personality over time</li>\r\n          <li>Analyzing the cognitive imparments of patients or the elderly</li>\r\n          <li>Studying why people have different skills</li>\r\n          <li>\r\n            Comparing knowledge between individuals to improve teaching and\r\n            learning\r\n          </li>\r\n          <li>\r\n            Study demographic differences across ethnic, gender, and age groups\r\n          </li>\r\n          <li>Study people with communication deficiencies</li>\r\n          <li>\r\n            Augment neurological and psychological research and treatments\r\n          </li>\r\n          <li>Study the process of knowledge acquisition</li>\r\n          <li>\r\n            Create robots that truly understand humans, or at least use words\r\n            and concepts in the same way\r\n          </li>\r\n          <li>\r\n            Strudy organizational behaviors and emergent properties like\r\n            collective intelligence\r\n          </li>\r\n        </ul>\r\n      )\r\n    },\r\n    {\r\n      title: \"Commercial Product\",\r\n      icon: \"dollar\",\r\n      description: \"\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout style={{ padding: \"24px 24px\", background: \"#fff\" }}>\r\n      <Content>\r\n        <List\r\n          itemLayout=\"horizontal\"\r\n          dataSource={data}\r\n          renderItem={item => (\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                avatar={\r\n                  <Avatar\r\n                    style={{\r\n                      color: \"#1890FFDD\",\r\n                      backgroundColor: \"#1890FF22\"\r\n                    }}\r\n                    icon={item.icon}\r\n                  />\r\n                }\r\n                title={<Link to=\"/explore\">{item.title}</Link>}\r\n                description={item.description}\r\n              />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Learn;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Amplify, { Storage, Auth } from \"aws-amplify\";\r\nimport { S3Album, S3Image } from \"aws-amplify-react\";\r\nimport {\r\n  Layout,\r\n  Typography,\r\n  Card,\r\n  Avatar,\r\n  Upload,\r\n  Icon,\r\n  message,\r\n  List,\r\n  Col\r\n} from \"antd\";\r\n\r\nconst { Text, Paragraph, Title } = Typography;\r\n\r\nconst Account = () => {\r\n  const user = Auth.user.attributes;\r\n  const [image, setImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchImage();\r\n  }, []);\r\n\r\n  const fetchImage = async () => {\r\n    setLoading(true);\r\n    const images = await Storage.list(\"profile/\", { level: \"protected\" });\r\n    if (images.length) {\r\n      const imageUrl = await Storage.get(images[0].key, { level: \"protected\" });\r\n      setImage(imageUrl);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleUpload = async ({ onProgress, onError, onSuccess, file }) => {\r\n    if (file) {\r\n      const response = await Storage.put(`profile/${file.name}`, file, {\r\n        contentType: \"image/*\",\r\n        level: \"protected\"\r\n      });\r\n      console.log(response);\r\n      fetchImage();\r\n    }\r\n  };\r\n\r\n  const onChangeAttribute = async (attribute, value) => {\r\n    if (user[attribute] === value) return;\r\n\r\n    try {\r\n      const response = await Auth.updateUserAttributes(Auth.user, {\r\n        [attribute]: value\r\n      });\r\n      if (response === \"SUCCESS\") message.success(`Updated ${attribute}`);\r\n      else message.warn(`Could not update ${attribute}`);\r\n    } catch (e) {\r\n      message.error(e.message);\r\n    }\r\n    // TODO: Refresh Auth!!\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      <Icon type={loading ? \"loading\" : \"plus\"} />\r\n      {loading ? null : <div className=\"ant-upload-text\">Upload</div>}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <Card title=\"User Details\" bordered={false}>\r\n        <Col span={4} style={{ minWidth: 128 }}>\r\n          <Upload\r\n            name=\"image\"\r\n            listType=\"picture-card\"\r\n            className=\"avatar-uploader\"\r\n            showUploadList={false}\r\n            customRequest={handleUpload}\r\n            beforeUpload={validateFile}\r\n          >\r\n            {image ? (\r\n              <Avatar\r\n                src={image}\r\n                shape=\"square\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              />\r\n            ) : (\r\n              uploadButton\r\n            )}\r\n          </Upload>\r\n        </Col>\r\n        <Col span={20}>\r\n          <List itemLayout=\"horizontal\" size=\"small\">\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                title=\"Name\"\r\n                description={\r\n                  <Paragraph\r\n                    editable={{\r\n                      onChange: value => onChangeAttribute(\"name\", value)\r\n                    }}\r\n                  >\r\n                    {user.name}\r\n                  </Paragraph>\r\n                }\r\n              />\r\n            </List.Item>\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                title=\"Phone\"\r\n                description={\r\n                  <Paragraph\r\n                    editable={{\r\n                      onChange: value =>\r\n                        onChangeAttribute(\"phone_number\", value)\r\n                    }}\r\n                  >\r\n                    {user.phone_number}\r\n                  </Paragraph>\r\n                }\r\n              />\r\n            </List.Item>\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                title=\"Email\"\r\n                description={\r\n                  <Paragraph\r\n                    editable={{\r\n                      onChange: value => onChangeAttribute(\"email\", value)\r\n                    }}\r\n                  >\r\n                    {user.email}\r\n                  </Paragraph>\r\n                }\r\n              />\r\n            </List.Item>\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                title=\"Address\"\r\n                description={\r\n                  <Paragraph\r\n                    editable={{\r\n                      onChange: value => onChangeAttribute(\"address\", value)\r\n                    }}\r\n                  >\r\n                    {user.address ?? \"Not provided\"}\r\n                  </Paragraph>\r\n                }\r\n              />\r\n            </List.Item>\r\n          </List>\r\n        </Col>\r\n      </Card>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nfunction validateFile(file) {\r\n  if (!file.type === \"image/*\") {\r\n    message.error(\"Unsupported file type!\");\r\n    return false;\r\n  }\r\n  if (!(file.size / 1024 / 1024 < 4)) {\r\n    message.error(\"Image must smaller than 4MB!\");\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport default Account;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ResponsiveNetwork } from \"@nivo/network\";\r\nimport { Layout, Menu, Icon, InputNumber, Row, Col, Switch } from \"antd\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\n\r\nimport data from \"../../data/sample3.json\";\r\nimport {\r\n  setRepulsivity,\r\n  setDistanceMin,\r\n  setDistanceMax,\r\n  setIterations,\r\n  setBorderWidth,\r\n  setLinkThickness,\r\n  setAnimate,\r\n  setMotionStiffness,\r\n  setMotionDamping\r\n} from \"../../actions\";\r\n\r\nconst { SubMenu } = Menu;\r\nconst { Content, Sider } = Layout;\r\n\r\n// const nivo = ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb', '#97e3d5'];\r\n\r\nconst Settings = props => {\r\n  const {\r\n    repulsivity,\r\n    distanceMin,\r\n    distanceMax,\r\n    iterations,\r\n    borderWidth,\r\n    linkThickness,\r\n    animate,\r\n    motionStiffness,\r\n    motionDamping\r\n  } = props.settings;\r\n\r\n  const handleChangeDistance = value => {\r\n    setDistanceMin(value[0]);\r\n    setDistanceMax(value[1]);\r\n  };\r\n\r\n  const renderSider = () => (\r\n    <Sider\r\n      style={{ background: \"#fff\" }}\r\n      width={300}\r\n      collapsedWidth={0}\r\n      breakpoint=\"lg\"\r\n    >\r\n      <Menu\r\n        mode=\"inline\"\r\n        selectable={false}\r\n        defaultOpenKeys={[\"sim\"]}\r\n        style={{ height: \"100%\" }}\r\n      >\r\n        <SubMenu\r\n          key=\"sim\"\r\n          title={\r\n            <span>\r\n              <Icon type=\"dot-chart\" />\r\n              Simulation\r\n            </span>\r\n          }\r\n        >\r\n          <Menu.Item key=\"1\">\r\n            <Row>\r\n              <Col span={12}>Repulsivity</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={1}\r\n                  max={100}\r\n                  value={repulsivity}\r\n                  onChange={props.setRepulsivity}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"2\">\r\n            <Row>\r\n              <Col span={12}>Distance Min</Col>\r\n              <Col span={4}>\r\n                {\" \"}\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={1}\r\n                  max={9999}\r\n                  value={distanceMin}\r\n                  onChange={props.setDistanceMin}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"3\">\r\n            <Row>\r\n              <Col span={12}>Distance Max</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={1}\r\n                  max={9999}\r\n                  value={distanceMax}\r\n                  onChange={props.setDistanceMax}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"4\">\r\n            <Row>\r\n              <Col span={12}>Iterations</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={60}\r\n                  max={260}\r\n                  value={iterations}\r\n                  onChange={props.setIterations}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n        </SubMenu>\r\n        <SubMenu\r\n          key=\"nodes\"\r\n          title={\r\n            <span>\r\n              <Icon type=\"ellipsis\" />\r\n              Nodes\r\n            </span>\r\n          }\r\n        >\r\n          <Menu.Item key=\"5\">\r\n            <Row>\r\n              <Col span={12}>Border Width</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={0}\r\n                  max={20}\r\n                  value={borderWidth}\r\n                  onChange={props.setBorderWidth}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n        </SubMenu>\r\n        <SubMenu\r\n          key=\"links\"\r\n          title={\r\n            <span>\r\n              <Icon type=\"fork\" />\r\n              Links\r\n            </span>\r\n          }\r\n        >\r\n          <Menu.Item key=\"6\">\r\n            <Row>\r\n              <Col span={12}>Link Thickness</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={1}\r\n                  max={20}\r\n                  value={linkThickness}\r\n                  onChange={props.setLinkThickness}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n        </SubMenu>\r\n        <SubMenu\r\n          key=\"motion\"\r\n          title={\r\n            <span>\r\n              <Icon type=\"double-right\" />\r\n              Motion\r\n            </span>\r\n          }\r\n        >\r\n          <Menu.Item key=\"7\">\r\n            <Row>\r\n              <Col span={12}>Animate</Col>\r\n              <Col span={4}>\r\n                <Switch\r\n                  size=\"small\"\r\n                  checked={animate}\r\n                  onChange={props.setAnimate}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"8\">\r\n            <Row>\r\n              <Col span={12}>Motion Stiffness</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={0}\r\n                  max={300}\r\n                  value={motionStiffness}\r\n                  onChange={props.setMotionStiffness}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"9\">\r\n            <Row>\r\n              <Col span={12}>Motion Damping</Col>\r\n              <Col span={4}>\r\n                <InputNumber\r\n                  size=\"small\"\r\n                  min={0}\r\n                  max={40}\r\n                  value={motionDamping}\r\n                  onChange={props.setMotionDamping}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Menu.Item>\r\n        </SubMenu>\r\n      </Menu>\r\n    </Sider>\r\n  );\r\n\r\n  // TODO: Implement window-resize event hook to properly size the container div\r\n  return (\r\n    <Layout style={{ padding: \"24px 0\", background: \"#fff\" }}>\r\n      {renderSider()}\r\n      <Content>\r\n        <TransformWrapper doubleClick={{ mode: \"reset\" }}>\r\n          <TransformComponent>\r\n            <div\r\n              style={{\r\n                height: window.innerHeight - 300,\r\n                width: window.innerWidth - 400\r\n              }}\r\n            >\r\n              <ResponsiveNetwork\r\n                // height={2000}\r\n                // width={3000}\r\n                nodes={data.nodes}\r\n                links={data.links}\r\n                repulsivity={repulsivity}\r\n                distanceMin={distanceMin}\r\n                distanceMax={distanceMax}\r\n                iterations={iterations}\r\n                nodeColor={n => n.color}\r\n                // nodeColor={n => `hsl(${360 - (60 * n.depth - 1)}, 40%, 60%)`}\r\n                // nodeColor={n => nivo[n.depth]}\r\n                nodeBorderWidth={borderWidth}\r\n                nodeBorderColor={{\r\n                  from: \"color\",\r\n                  modifiers: [[\"darker\", 0.8]]\r\n                }}\r\n                // nodeBorderColor={n => `hsl(${360 - (60 * n.depth - 1)}, 40%, 30%)`}\r\n                // nodeBorderColor={n => nivo[n.depth]}\r\n                linkColor={t => t.source.color}\r\n                // linkColor={n => `hsl(${360 - (2 * n.distance)}, 40%, 30%)`}\r\n                linkThickness={linkThickness ?? (l => 2 * (2 - l.source.depth))}\r\n                motionStiffness={motionStiffness}\r\n                motionDamping={motionDamping}\r\n                animate={animate}\r\n              />\r\n            </div>\r\n          </TransformComponent>\r\n        </TransformWrapper>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { settings: state.settings };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setRepulsivity,\r\n  setDistanceMin,\r\n  setDistanceMax,\r\n  setIterations,\r\n  setBorderWidth,\r\n  setLinkThickness,\r\n  setAnimate,\r\n  setMotionStiffness,\r\n  setMotionDamping\r\n})(Settings);\r\n","import React from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Layout, Typography, List, Button, Icon } from \"antd\";\r\n\r\nconst { Content } = Layout;\r\nconst { Text } = Typography;\r\n\r\nconst Home = () => {\r\n  const destinationCards = [\r\n    {\r\n      title: \"Quick Play\",\r\n      icon: \"rocket\",\r\n      path: \"/play\",\r\n      description:\r\n        \"Jump into a quick 5-minute game to get the creative juices flowing\"\r\n    },\r\n    {\r\n      title: \"Insights\",\r\n      icon: \"thunderbolt\",\r\n      path: \"/explore/insights\",\r\n      description:\r\n        \"Gain perspective on your personality and cognitive abilities through analysis of your data\"\r\n    },\r\n    {\r\n      title: \"Goals\",\r\n      icon: \"trophy\",\r\n      path: \"explore/goals\",\r\n      description:\r\n        \"Challenge yourself to login a few times a week, expand your vocabulary, or increase your speed\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout>\r\n      <Content style={{ marginTop: 128 }}>\r\n        <List\r\n          grid={{\r\n            gutter: 16,\r\n            xs: 1,\r\n            sm: 2,\r\n            md: 3\r\n          }}\r\n          dataSource={destinationCards}\r\n          renderItem={item => (\r\n            <List.Item>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\"\r\n                }}\r\n              >\r\n                <Icon\r\n                  type={item.icon}\r\n                  theme=\"twoTone\"\r\n                  style={{ marginTop: 32, fontSize: 64 }}\r\n                />\r\n                <Button type=\"primary\" shape=\"round\" style={{ margin: 16 }}>\r\n                  <Link to={item.path}>{item.title}</Link>\r\n                </Button>\r\n                <Text style={{ fontSize: 12, marginLeft: 4, marginRight: 4 }}>\r\n                  {item.description}\r\n                </Text>\r\n              </div>\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withRouter(Home);\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { withRouter, Switch, Route, Link } from \"react-router-dom\";\r\nimport { Layout, Menu, Icon } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Analytics, Auth } from \"aws-amplify\";\r\n\r\nimport Crumb from \"./Crumb\";\r\nimport Explore from \"./explore/Explore\";\r\nimport Play from \"./play/Play\";\r\nimport PlayConnected from \"./play/PlayConnected\";\r\nimport Learn from \"./learn/Learn\";\r\nimport Account from \"./settings/Account\";\r\nimport Settings from \"./settings/Settings\";\r\nimport Missing from \"./Missing\";\r\nimport Home from \"./Home\";\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nconst App = props => {\r\n  const {location} = props;\r\n  // Add analytics tracker\r\n  useEffect(() => {\r\n    Analytics.record(\"page_load\");\r\n  }, []);\r\n\r\n  // Get final path segment to show active menu item\r\n  const segment = useMemo(() => location.pathname.split(\"/\")[1], [location]);\r\n\r\n  return (\r\n    <Layout>\r\n      <Header\r\n        className=\"header\"\r\n        style={{ position: \"fixed\", zIndex: 1, width: \"100%\" }}\r\n      >\r\n        <div className=\"logo\" />\r\n        <Menu\r\n          theme=\"dark\"\r\n          mode=\"horizontal\"\r\n          selectedKeys={[segment]}\r\n          style={{ lineHeight: \"64px\" }}\r\n        >\r\n          <Menu.Item key=\"play\">\r\n            <Link to=\"/play\">Play</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"explore\">\r\n            <Link to=\"/explore\">Explore</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"learn\">\r\n            <Link to=\"/learn\">Learn</Link>\r\n          </Menu.Item>\r\n          <Menu.SubMenu\r\n            selectedKeys={[location.pathname.split(\"/\").pop()]}\r\n            style={{ float: \"right\" }}\r\n            title={\r\n              <span>\r\n                <Icon type=\"setting\" />\r\n              </span>\r\n            }\r\n          >\r\n            <Menu.Item key=\"account\">\r\n              <Link to=\"/account\">Account</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"settings\">\r\n              <Link to=\"/settings\">Settings</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"signout\">\r\n              <Link to=\"/\" onClick={() => Auth.signOut()}>\r\n                Sign Out\r\n              </Link>\r\n            </Menu.Item>\r\n          </Menu.SubMenu>\r\n        </Menu>\r\n      </Header>\r\n      <Content style={{ padding: \"64px 50px\", minHeight: \"100vh\" }}>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route render={Crumb} />\r\n        </Switch>\r\n        <Switch>\r\n          <Route path=\"/play\" component={PlayConnected} />\r\n          <Route path=\"/explore\" component={Explore} />\r\n          <Route path=\"/learn\" component={Learn} />\r\n          <Route path=\"/account\" component={Account} />\r\n          <Route path=\"/settings\" component={Settings} />\r\n          <Route exact path=\"/\" component={null}/>\r\n          <Route render={() => <Missing style={{ marginTop: 52}}/>} />\r\n        </Switch>\r\n      </Content>\r\n      <Footer style={{ textAlign: \"center\" }}>\r\n        iWordNet ©2020 Created by Mark Chang & Tobias Fried\r\n      </Footer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withRouter(App);\r\n","import { UPDATE_SETTING } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  repulsivity: 60,\r\n  distanceMin: 10,\r\n  distanceMax: 500,\r\n  iterations: 90,\r\n  borderWidth: 2,\r\n  linkThickness: 2,\r\n  animate: true,\r\n  motionStiffness: 40,\r\n  motionDamping: 10\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_SETTING:\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ADD_GRAPH_ELEMENTS,\r\n  REMOVE_GRAPH_ELEMENT,\r\n  INITIALIZE_GRAPH_SESSION,\r\n  SUBMIT_GRAPH_SESSION\r\n} from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  nodes: [],\r\n  links: [],\r\n  session: null,\r\n  currentNode: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZE_GRAPH_SESSION:\r\n      return {\r\n        ...INITIAL_STATE,\r\n        session: action.payload.session,\r\n        currentNode: action.payload.currentNode,\r\n        nodes: [action.payload.currentNode]\r\n      };\r\n    case SUBMIT_GRAPH_SESSION:\r\n      return INITIAL_STATE;\r\n    case ADD_GRAPH_ELEMENTS:\r\n      return {\r\n        nodes: [...state.nodes, ...action.payload.nodes],\r\n        links: [...state.links, ...action.payload.links],\r\n        session: action.payload.session,\r\n        currentNode: action.payload.currentNode ?? state.currentNode\r\n      };\r\n    case REMOVE_GRAPH_ELEMENT:\r\n      const filteredNodes = state.nodes.filter(n => n.id !== action.payload);\r\n      const filteredLinks = state.links.filter(\r\n        l => l.source !== action.payload && l.target !== action.payload\r\n      );\r\n      return {\r\n        nodes: filteredNodes,\r\n        links: filteredLinks,\r\n        session: state.session,\r\n        currentNode: state.currentNode\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_HISTORY } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  sessions: [],\r\n  sessionsByDay: []\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case FETCH_HISTORY:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport settingsReducer from \"./settingsReducer\";\r\nimport graphReducer from \"./graphReducer\";\r\nimport histroryReducer from \"./historyReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  settings: settingsReducer,\r\n  graph: graphReducer,\r\n  history: histroryReducer\r\n});\r\n\r\n// const store = createStore(rootReducer, {}, applyMiddleware(thunk));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  {},\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport Amplify from 'aws-amplify';\r\nimport awsconfig from './aws-exports';\r\nimport { withAuthenticator, AmplifyTheme } from 'aws-amplify-react';\r\n\r\nimport App from \"./components/App\";\r\nimport store from \"./reducers\";\r\n\r\nAmplify.configure(awsconfig);\r\n\r\nconst signUpConfig = {\r\n  header: \"Create a new WordNet account\",\r\n  signUpFields: [\r\n    {\r\n      label: 'Name',\r\n      key: 'name',\r\n      required: true,\r\n      displayOrder: 1,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Email',\r\n      key: 'email',\r\n      required: true,\r\n      displayOrder: 2,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Password',\r\n      key: 'password',\r\n      required: true,\r\n      displayOrder: 3,\r\n      type: 'password'\r\n    },\r\n    {\r\n      label: 'Phone Number',\r\n      key: 'phone_number',\r\n      required: true,\r\n      displayOrder: 4,\r\n      type: 'string'\r\n    }\r\n  ]\r\n};\r\n\r\nconst theme = {\r\n  ...AmplifyTheme\r\n}\r\n\r\nconst AppWithAuthentication = withAuthenticator(App, { signUpConfig }, [], null, theme);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <AppWithAuthentication />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}